Emilie Hela

Maï Leroy

groupe 8

# TP 1.2 Introduction à C - Système d'exploitation

## Exercice 1 - PGCD

Écrivez un programme en langage C qui prend en entrée deux entiers et puis affiche un PGCD de ces deux entiers.

fichier en tête "compute_pgcd.h"

```c
int compute_pgcd(int, int);
```

fichier implémentation "compute_pgcd.c":

```c
#include "compute_pgcd.h"

int compute_pgcd(int parameter_a, int parameter_b) {
    int pgcd;
    if (parameter_a > parameter_b)
        pgcd = parameter_b;
    else
        pgcd = parameter_a;
    while (pgcd >= 0) {
        if (parameter_a % pgcd == 0 && parameter_b % pgcd == 0) {
            return pgcd;
        }
        pgcd -= 1;
    }
    return pgcd;
}
```

fichier de test "main.c":

```c
#include <stdio.h>
#include "compute_pgcd.h"

int main(void) {
    int parameter_a, parameter_b;
    printf("First number: ");
    scanf("%d", &parameter_a);
    printf("Second number: ");
    scanf("%d", &parameter_b);
    printf ("THE PGCD of %d and %d is : %d\n", parameter_a, parameter_b, compute_pgcd(parameter_a,parameter_b));
    return 0;
}
```

## Exercice 2 - Suite des nombres impaires

Écrire un programme en langage C qui fait la somme d’une suite d’un nombre entier impaire ≤ n:


Fichier de test "main.c":

```c
#include <stdio.h>

int main(void) {
    int parameter_n, variable_a = 1, result = 0;
    printf("Enter n: ");
    scanf("%d", &parameter_n);
    
    while (variable_a <= parameter_n) {
      result += variable_a;
      variable_a += 2;
    }
    printf ("result: %d\n", result);
    return 0;
}
```

## Exercice 4 - Longueur d'une chaine

Écrivez un programme qui lit en entrée une chaîne de caractère et puis fait appel à une fonction qui détermine sa longueur sachant qu’une chaîne de caractère se termine par un symbol ’\0’:

Fichier en tête "compute_length.h"

```c
int compute_length(char *);
```

Fichier implémentation "compute_length.c"

```c
#include <stdio.h>

int compute_length(char string[]) {
	int length = 0;
	while (string[length] != '\0') {
		length += 1;
	}
	return length;
}
```

Fichier de test "main.c"

```c
#include <stdio.h>
#include "compute_length.h"

int main(void) {
	char string[101]; 
	printf ("Enter a string (with less than 100 characters): ");
	scanf("%s", string);
	printf ("Length: %d\n", compute_length(string));
	return 0;
}
```

notes: pour que ce soit l'utilisateur qui donne la chaine de caractères en entrée, nous avons dû choisir une taille maximale pour cette chaine de caractère. Nous avons choisi 100 comme nombre maximum. 

## Exercice 5 - Palindorme

Écrivez un programme qui lit en entrée une chaîne de caractère et puis fait appel à une fonction qui détermine si une chaîne est palindrome. Un palindrome est un chaîne qui se lit dans les deux sens:

Fichier en tête "palindrome.h"

```c
int palindrome(char *);
```

Fichier implémentation "palindrome.c"

```c
#include "palindrome.h"

int palindrome(char *string) {
	char *P1,*P2; /* pointers */
	int bool = 1; /* 1 if palindrome else 0 */
	
	// P2 goes on the '\0'
	for (P2=string; *P2; P2++);
	// P2 goes on the last letter
	P2--;
	
	/* Put P1 on the first letter and incremente P1 while P2 decrement.
	 * The loop continues only if bool = 1 
	 * and all the characters aren't all checked */
	for (P1=string; bool && P1 < P2; P1++, P2--){
        // check if opposite characters are the same
        if (*P1 != *P2) {
			bool=0;
		}
	}
		
	// return result
	if (bool)
		return 1;
	return 0;
}
```

Fichier de test "main.c"

```c
#include <stdio.h>
#include "palindrome.h"

int main(void) {
    char string[101];
    printf ("Enter a string (with less than 100 characters): ");
    scanf("%s", string);
    // display result
    if (palindrome(string))
		printf("%s is a palindrome\n", string);
	else
		printf("%s is not a palindrome\n", string);
	return 0;
}

```


## Exercice 6 - Passez des arguments

Réécrivez le programme de l’exercice 5 mais cette fois il accepte une chaîne passée en argument:

Fichier en tête "palindrome.h"

```c
int palindrome(char *);
```

Fichier implémentation "palindrome.c"

```c
#include "palindrome.h"

int palindrome(char *string) {
	char *P1,*P2; /* pointers */
	int bool = 1; /* 1 if palindrome else 0 */
	
	// P2 goes on the '\0'
	for (P2=string; *P2; P2++);
	// P2 goes on the last letter
	P2--;
	
	/* Put P1 on the first letter and incremente P1 while P2 decrement.
	 * The loop continues only if bool = 1 
	 * and all the characters aren't all checked */
	for (P1=string; bool && P1 < P2; P1++, P2--){
        // check if opposite characters are the same
        if (*P1 != *P2) {
			bool=0;
		}
	}
		
	// return result
	if (bool)
		return 1;
	return 0;
}
```

Fichier de test "main.c"

```c
#include <stdio.h>
#include "palindrome.h"


int main(int argc, char *argv[]) {

    // display result
    if (palindrome(argv[1]))
		printf("%s is a palindrome\n", argv[1]);
	else
		printf("%s is not a palindrome\n", argv[1]);
	
	return 0;
}
```




## Exercice 7 - Makefile

En prenant l’exercice 5, créez un fichier en tête chaine.h. Ce fichier contient les prototypages des fonctions suivantes :
— la fonction longueur qui prend en entrée une chaîne et retourne la longueur de cette chaîne.
— la fonction est Palindrome qui prend en entrée une chaîne et retourne 1 si la chaîne est un palindrome sinon 0.

```c
int compute_length(char *);
int palindrome(char *);
```

Puis créez une autre fichier source chaine.c qui implémente ces deux fonctions indiquées en haut. N’oubliez pas d’écrire une fonction main qui teste si une chaîne est un palindrome.

```c
#include "chaine.h"

int palindrome(char *string) {
	char *P1,*P2; /* pointers */
	int bool = 1; /* 1 if palindrome else 0 */
	
	// P2 goes on the '\0'
	for (P2=string; *P2; P2++);
	// P2 goes on the last letter
	P2--;
	
	/* Put P1 on the first letter and incremente P1 while P2 decrement
	 * The loop continues only if bool = 1 
	 * and all the characters aren't all checked */
	for (P1=string; bool && P1 < P2; P1++, P2--){
        // check if opposite characters are the same
        if (*P1 != *P2) {
			bool=0;
		}
	}
		
	// return result
	if (bool)
		return 1;
	return 0;
}

int compute_length(char string[]) {
	int length = 0;
	while (string[length] != '\0') {
		length += 1;
	}
	return length;
}
```

Fichier de test "main.c"

```c
#include <stdio.h>
#include "chaine.h"

int main(void) {
    char string[101];
    printf ("Enter a string (with less than 100 characters): ");
    scanf("%s", string);
    // display result
    if (palindrome(string))
		printf("%s is a palindrome\n", string);
	else
		printf("%s is not a palindrome\n", string);
	return 0;
}

```

Enfin écrivez un fichier Makefile qui permet de compiler ces différents fichiers.

```c
CC = gcc

CFLAGS = -Wall

SRC = chaine.c chaine.h  main.c

all: main

main: $(SRC) 
    $(CC) $(CFLAGS) -o palindrome $(SRC)
```

Notes: les fonctions "longueur" et "estPalindrome" sont appelées respectivement "compute_length" et palindrome".


## Exercice 8

Écrivez Makefile pour chaque exercice.

### Exercice 1

```c
CC = gcc

CFLAGS = -Wall

SRC = compute_pgcd.c compute_pgcd.h main.c

all: main

main: $(SRC) 
	$(CC) $(CFLAGS) -o pgcd $(SRC)

```

### Exercice 2

```c
CC = gcc

CFLAGS = -Wall

SRC = main.c

all: main

main: $(SRC) 
	$(CC) $(CFLAGS) -o sum $(SRC)
```

### Exercice 4

```c
CC = gcc

CFLAGS = -Wall

SRC = compute_length.c compute_length.h main.c

all: main

main: $(SRC) 
	$(CC) $(CFLAGS) -o length $(SRC)

```

### Exercice 5
```c
CC = gcc

CFLAGS = -Wall

SRC = palindrome.c palindrome.h  main.c

all: main

main: $(SRC) 
	$(CC) $(CFLAGS) -o palindrome $(SRC)
```

### Exercice 6
```c
CC = gcc

CFLAGS = -Wall

SRC = palindrome.c palindrome.h  main.c

all: main

main: $(SRC) 
	$(CC) $(CFLAGS) -o palindrome $(SRC)
```

